import{e as E}from"./getGeoJson.4bd71743.js";import{l,v as f,u as o,x as v,y as g,_ as T,h as k,s as w,o as h,j as p,z,t as O,k as b,A as x,B as L}from"./vendor.63cfb631.js";import"./OrbitControls.2142a826.js";function N(s=window,i,e,t=!0){const r=l(s),a=()=>{const n=o(s);!n||!o(n)||(r.value=n)};f(()=>{(!r||!o(r))&&a();const n=o(r);c(n)});const c=n=>{setTimeout(()=>{n=n??o(r),n.addEventListener&&n.addEventListener(i,e,t)},1)},u=n=>{n=n??r.value,n.removeEventListener?n.removeEventListener(i,e,t):n.detachEvent&&n.detachEvent(i,e,t)};return{removeFun:()=>{u(o(r)??s)}}}function S(s,i){if(typeof s!="function")return;const e=l(!1);v(()=>o(e),()=>{o(e)&&(s(),a(),e.value=!1)},{immediate:!0});let t;const r=()=>{t=setTimeout(()=>{e.value=!0},i)},a=()=>{t&&clearTimeout(t)};return r(),{stop:a,timer:t}}function j(s,i=80){if(typeof s!="function")return;let e=null;const t=l(!1),r=()=>{e&&clearTimeout(e?.timer)};return function(){const a=this,c=arguments,u=function(){t.value=!0};v(()=>o(t),()=>{o(t)&&e&&(s.apply(a,c),t.value=!1,e=null,r())}),e&&r(),e=S(u,i)}}function B(s,i){let e=null,t=l(),r=i,a=l({});const c=()=>{const m=o(s);!m||!o(m)||(e=E.init(m,r),t.value=e)},u=g(()=>r!=="dark"?a.value:{background:"transparent",...a.value}),d=(m,_=!0)=>{a.value=m,f(()=>{e||c(),_&&e?.clear(),e?.setOption(o(u))})};function n(){e?.resize()}const y=j(n,800);return N(window,"resize",y),{setOptions:d,myEchart:t}}const D={key:0,class:"echartTemp_title"},F=k({props:{elementName:{default:String},stateData:{default:{}},title:{default:String}},setup(s,{expose:i}){const e=s,t=l("aaa");return w(()=>{let{setOptions:a,myEchart:c}=B(document.querySelector(`.${e.elementName}`));a(o(e.stateData)),t.value=c}),i({datas:t,updataEchart:a=>{if(!a||a=={})throw console.error("data is empty");o(t).value?.setOption(a??{})}}),(a,c)=>(h(),p("div",{class:"echartTemp",style:L({background:s.title=="false"?"transparent":""})},[s.title!="false"?(h(),p("div",D,z(s.title),1)):O("",!0),b("div",{class:x(s.elementName),style:{width:"100%",height:"100%"}},null,2)],4))}});var V=T(F,[["__scopeId","data-v-076c1f8d"]]);export{V as default};
